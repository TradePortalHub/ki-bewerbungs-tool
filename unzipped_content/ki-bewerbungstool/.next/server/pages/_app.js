(()=>{var e={};e.id=636,e.ids=[636],e.modules={2015:e=>{"use strict";e.exports=require("react")},2475:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(2015),n=a.n(r);a(2768);var l=a(8732);let s=require("react-dom/client"),c=require("@heroicons/react/outline");function o({job:e,onFinish:t}){if(!e)return console.error("ChatWindow received null job prop!"),(0,l.jsx)("p",{children:"Jobdaten fehlen."});let[a,s]=(0,r.useState)([]),[o,m]=(0,r.useState)(!1),[i,u]=(0,r.useState)(""),[d,p]=(0,r.useState)(!1),f=(0,r.useRef)(null),b=async t=>{if(!t.trim())return;let r=[...a,{role:"user",content:t}];s(r),u(""),m(!0);try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:r,jobId:e.id})}),a=(await t.json()).message;a&&a.role&&s(e=>[...e,a])}catch(e){console.error(e),s(e=>[...e,{role:"system",content:"Fehler beim Senden."}])}finally{m(!1)}};return n().createElement("div",{className:"bg-gray-50 min-h-screen py-6"},n().createElement("div",{className:"max-w-3xl mx-auto bg-white shadow-lg rounded-lg p-6 flex flex-col space-y-6"},n().createElement("header",{className:"flex items-center space-x-4"},n().createElement("img",{src:e.companyLogo,alt:e.companyName,className:"h-16 w-16 object-contain"}),n().createElement("div",null,n().createElement("h2",{className:"text-2xl font-bold"},e.title),n().createElement("p",{className:"text-gray-600"},e.companyName),n().createElement("p",{className:"text-sm text-gray-500"},e.companyAddress),n().createElement("a",{href:e.companyWebsite,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm"},e.companyWebsite))),n().createElement("section",{className:"space-y-4 text-gray-800"},n().createElement("p",{className:"italic text-gray-700"},`"${e.announcement}"`),n().createElement("p",null,e.description),n().createElement("div",null,n().createElement("h3",{className:"font-semibold"},"Fragen:"),n().createElement("ul",{className:"list-disc list-inside"},...e.questions.map((e,t)=>n().createElement("li",{key:t},e)))),n().createElement("div",null,n().createElement("h3",{className:"font-semibold"},"Anzufordernde Dateien:"),n().createElement("ul",{className:"list-disc list-inside"},...e.fileUploads.map((e,t)=>n().createElement("li",{key:t},`${e.label}${e.required?" (Pflicht)":""}`)))),n().createElement("div",null,n().createElement("h3",{className:"font-semibold"},"Zus\xe4tzliche Infos:"),n().createElement("ul",{className:"list-disc list-inside"},...e.informationRequested.map((e,t)=>n().createElement("li",{key:t},e))))),n().createElement("section",{className:"flex flex-col space-y-4"},n().createElement("div",{className:"flex-1 h-80 overflow-y-auto border border-gray-200 rounded p-4 flex flex-col space-y-3"},...a.filter(e=>e&&e.role).map((e,t)=>n().createElement("div",{key:t,className:`p-3 rounded-lg ${"user"===e.role?"bg-blue-100 self-end":"bg-gray-100 self-start"}`},n().createElement("span",{className:"block font-medium text-sm"},"user"===e.role?"Sie:":"Bot:"),n().createElement("p",{className:"mt-1"},e.content))),o&&n().createElement("p",{className:"text-center text-gray-500"},"...")),n().createElement("div",{className:"flex items-center space-x-2"},n().createElement("button",{type:"button",onClick:()=>{f.current&&(p(!0),f.current.start())},disabled:d,className:`p-2 rounded-full border ${d?"bg-red-100":"bg-white hover:bg-gray-50"}`},n().createElement(c.MicrophoneIcon,{className:"h-6 w-6 text-gray-600"})),n().createElement("input",{type:"text",value:i,onChange:e=>u(e.target.value),placeholder:"Nachricht eingeben...",className:"flex-1 border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n().createElement("button",{type:"button",onClick:()=>b(i),className:"p-2 bg-blue-600 rounded-full hover:bg-blue-700"},n().createElement(c.PaperAirplaneIcon,{className:"h-6 w-6 text-white transform rotate-90"}))),n().createElement("button",{onClick:()=>t(a),className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700"},"Bewerbung abschlie\xdfen"))))}function m({Component:e,pageProps:t}){return n().createElement(e,t)}!function(){if("undefined"!=typeof document&&!document.querySelector("h1")){let e=document.createElement("h1");e.className="screen-reader-text",e.textContent="Stellenangebote",document.body.prepend(e),console.info("[KIBT] Dummy <h1> f\xfcr Next.js-Announcer eingef\xfcgt.")}}(),console.info("[KIBT] SSR-Modus: Bootstrap \xfcbersprungen.")},2768:()=>{},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var t=require("../webpack-runtime.js");t.C(e);var a=t(t.s=2475);module.exports=a})();