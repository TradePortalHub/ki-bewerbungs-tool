(()=>{var e={};e.id=961,e.ids=[220,636,961],e.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>h,default:()=>p,getServerSideProps:()=>g,getStaticPaths:()=>b,getStaticProps:()=>f,reportWebVitals:()=>y,routeModule:()=>N,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>E,unstable_getStaticProps:()=>x});var a={};r.r(a),r.d(a,{default:()=>m,getStaticPaths:()=>u,getStaticProps:()=>d});var n=r(3885),s=r(237),l=r(1413),o=r(9674),c=r(2475),i=r(8732);async function u(){let e=r(9021),t=r(3873),a=t.join(process.cwd(),"public","companies"),n=[];if(e.existsSync(a))for(let r of e.readdirSync(a).filter(e=>e.endsWith(".json"))){let s=JSON.parse(e.readFileSync(t.join(a,r),"utf8"));Array.isArray(s.postings)?n.push(...s.postings.map(e=>e.id)):s.id&&s.title?n.push(s.id):Array.isArray(s.jobs)&&n.push(...s.jobs.map(e=>e.id))}return{paths:(n=Array.from(new Set(n))).map(e=>({params:{jobId:e}})),fallback:!1}}async function d({params:e}){return{props:{jobId:e.jobId}}}function m({jobId:e}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{className:"sr-only",children:["Bewerbung #",e]}),(0,i.jsx)("div",{id:"kibt-app","data-job-id":e})]})}r(2015);let p=(0,l.M)(a,"default"),f=(0,l.M)(a,"getStaticProps"),b=(0,l.M)(a,"getStaticPaths"),g=(0,l.M)(a,"getServerSideProps"),h=(0,l.M)(a,"config"),y=(0,l.M)(a,"reportWebVitals"),x=(0,l.M)(a,"unstable_getStaticProps"),E=(0,l.M)(a,"unstable_getStaticPaths"),S=(0,l.M)(a,"unstable_getStaticParams"),P=(0,l.M)(a,"unstable_getServerProps"),v=(0,l.M)(a,"unstable_getServerSideProps"),N=new n.PagesRouteModule({definition:{kind:s.A.PAGES,page:"/apply/[jobId]",pathname:"/apply/[jobId]",bundlePath:"",filename:""},components:{App:c.default,Document:o.default},userland:a})},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},2015:e=>{"use strict";e.exports=require("react")},2475:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(2015),n=r.n(a);r(2768);var s=r(8732);let l=require("react-dom/client"),o=require("@heroicons/react/outline");function c({job:e,onFinish:t}){if(!e)return console.error("ChatWindow received null job prop!"),(0,s.jsx)("p",{children:"Jobdaten fehlen."});let[r,l]=(0,a.useState)([]),[c,i]=(0,a.useState)(!1),[u,d]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),f=(0,a.useRef)(null),b=async t=>{if(!t.trim())return;let a=[...r,{role:"user",content:t}];l(a),d(""),i(!0);try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:a,jobId:e.id})}),r=(await t.json()).message;r&&r.role&&l(e=>[...e,r])}catch(e){console.error(e),l(e=>[...e,{role:"system",content:"Fehler beim Senden."}])}finally{i(!1)}};return n().createElement("div",{className:"bg-gray-50 min-h-screen py-6"},n().createElement("div",{className:"max-w-3xl mx-auto bg-white shadow-lg rounded-lg p-6 flex flex-col space-y-6"},n().createElement("header",{className:"flex items-center space-x-4"},n().createElement("img",{src:e.companyLogo,alt:e.companyName,className:"h-16 w-16 object-contain"}),n().createElement("div",null,n().createElement("h2",{className:"text-2xl font-bold"},e.title),n().createElement("p",{className:"text-gray-600"},e.companyName),n().createElement("p",{className:"text-sm text-gray-500"},e.companyAddress),n().createElement("a",{href:e.companyWebsite,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm"},e.companyWebsite))),n().createElement("section",{className:"space-y-4 text-gray-800"},n().createElement("p",{className:"italic text-gray-700"},`"${e.announcement}"`),n().createElement("p",null,e.description),n().createElement("div",null,n().createElement("h3",{className:"font-semibold"},"Fragen:"),n().createElement("ul",{className:"list-disc list-inside"},...e.questions.map((e,t)=>n().createElement("li",{key:t},e)))),n().createElement("div",null,n().createElement("h3",{className:"font-semibold"},"Anzufordernde Dateien:"),n().createElement("ul",{className:"list-disc list-inside"},...e.fileUploads.map((e,t)=>n().createElement("li",{key:t},`${e.label}${e.required?" (Pflicht)":""}`)))),n().createElement("div",null,n().createElement("h3",{className:"font-semibold"},"Zus\xe4tzliche Infos:"),n().createElement("ul",{className:"list-disc list-inside"},...e.informationRequested.map((e,t)=>n().createElement("li",{key:t},e))))),n().createElement("section",{className:"flex flex-col space-y-4"},n().createElement("div",{className:"flex-1 h-80 overflow-y-auto border border-gray-200 rounded p-4 flex flex-col space-y-3"},...r.filter(e=>e&&e.role).map((e,t)=>n().createElement("div",{key:t,className:`p-3 rounded-lg ${"user"===e.role?"bg-blue-100 self-end":"bg-gray-100 self-start"}`},n().createElement("span",{className:"block font-medium text-sm"},"user"===e.role?"Sie:":"Bot:"),n().createElement("p",{className:"mt-1"},e.content))),c&&n().createElement("p",{className:"text-center text-gray-500"},"...")),n().createElement("div",{className:"flex items-center space-x-2"},n().createElement("button",{type:"button",onClick:()=>{f.current&&(p(!0),f.current.start())},disabled:m,className:`p-2 rounded-full border ${m?"bg-red-100":"bg-white hover:bg-gray-50"}`},n().createElement(o.MicrophoneIcon,{className:"h-6 w-6 text-gray-600"})),n().createElement("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Nachricht eingeben...",className:"flex-1 border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"}),n().createElement("button",{type:"button",onClick:()=>b(u),className:"p-2 bg-blue-600 rounded-full hover:bg-blue-700"},n().createElement(o.PaperAirplaneIcon,{className:"h-6 w-6 text-white transform rotate-90"}))),n().createElement("button",{onClick:()=>t(r),className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700"},"Bewerbung abschlie\xdfen"))))}function i({Component:e,pageProps:t}){return n().createElement(e,t)}!function(){if("undefined"!=typeof document&&!document.querySelector("h1")){let e=document.createElement("h1");e.className="screen-reader-text",e.textContent="Stellenangebote",document.body.prepend(e),console.info("[KIBT] Dummy <h1> f\xfcr Next.js-Announcer eingef\xfcgt.")}}(),console.info("[KIBT] SSR-Modus: Bootstrap \xfcbersprungen.")},2768:()=>{},3873:e=>{"use strict";e.exports=require("path")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},9674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(8732),n=r(2341),s=r.n(n);class l extends s(){render(){return(0,a.jsxs)(n.Html,{lang:"de",children:[(0,a.jsx)(n.Head,{}),(0,a.jsxs)("body",{children:[(0,a.jsx)(n.Main,{}),(0,a.jsx)("p",{id:"__next-route-announcer__",role:"alert","aria-live":"assertive",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",border:0}}),(0,a.jsx)(n.NextScript,{})]})]})}}let o=l}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[341],()=>r(1262));module.exports=a})();